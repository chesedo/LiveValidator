!function(e,t,i,r){var s="LiveValidator";e[s]=e.fn[s]=function(t){if(!(this instanceof e))return void e.extend(!0,e.fn[s].defaults,t);var i='input[type!="button"][type!="file"][type!="hidden"][type!="image"][type!="radio"][type!="reset"][type!="submit"], textarea',o=this.filter(i).add(this.find(i)),n=arguments;if(t===r||"object"==typeof t&&"Array"!==t.constructor.name)return o.each(function(){e.data(this,s)||e.data(this,s,new LiveValidator.Core(e,this,t))});if("string"==typeof t&&"_"!==t[0]){if("isValid"===t){var h=!0;return o.each(function(){var t=e.data(this,s);t instanceof LiveValidator.Core?t.isValid()||(h=!1):h=!1}),h}return o.each(function(){var i=e.data(this,s);i instanceof LiveValidator.Core&&("function"==typeof i[t]?"destroy"===t?(i.destroy(),e(this).removeData(s)):i[t].apply(i,Array.prototype.slice.call(n,1)):i._log("`"+t+"` method does not exist on plugin",1))})}return this},e.fn[s].defaults={themeData:{error:"error",missing:"missing",parentSelector:".row"},required:!1,liveEnabled:!0,checks:[],debug:!1}}(jQuery,window,document);var LiveValidator=LiveValidator||{};LiveValidator.Core=function(e,t,i){if(!(this instanceof LiveValidator.Core))return new LiveValidator.Core(e,t,i);this.jq=e,this.element=t,this.$element=this.jq(t);var r=this.$element.is("[required] "),s=new LiveValidator.AutoChecks(this.element);this.options=this.jq.extend(!0,{},this.jq.fn.LiveValidator.defaults,{required:r},{checks:s.getChecks()},this.$element.data(),i),this.tester=new LiveValidator.Tester,this.missing=!1,this.errors=[],this.logLevels=["DEBUG","INFO","ERROR"],this._init()},LiveValidator.Core.prototype={_init:function(){this._isValidTheme(this.options.theme)?(this.theme=new this.options.theme(this.jq,this.element,this.options.themeData),this._log("LiveValidator is using the theme "+this.theme.constructor.name)):(this.theme=new LiveValidator.themes.Default(this.jq,this.element,this.options.themeData),this._log("LiveValidator is using the default theme")),this.options.required?this.setRequired():this.unsetRequired(),this.options.liveEnabled?this.enableLive():this.disableLive(),this._log("Binding the blur event",2),this.$element.on("blur.LiveValidator",this._blur.bind(this)),this.options.checks=this._filterChecks(this.options.checks)},_isValidTheme:function(e){var t=["markRequired","unmarkRequired","setMissing","unsetMissing","clearErrors","addErrors"];if(this._log("Testing if theme is valid",2),"function"!=typeof e)return this._log("Custom theme is not a function",3),!1;for(var i=0;i<t.length;i++)if("function"!=typeof e.prototype[t[i]])return this._log("Custom theme is not valid - missing the function `"+t[i]+"`",2),!1;return this._log("Custom theme is valid",2),!0},_filterChecks:function(e){var t={};if(this._log("Filtering checks",2),"Array"!==e.constructor.name)return this._log("Checks is not an array; cannot use it",3),[];var i=[],r=e.filter(function(e){return"object"==typeof e&&(e=Object.keys(e)[0]),"function"==typeof this.tester[e]?!t.hasOwnProperty(e)&&(t[e]=i.push(e)):(this._log("`"+e+"` check does not exist so it will not be added to checks"),!1)},this);return this._log("Valid checks are: "+i),r},_blur:function(){var e=this.$element.val(),t=this.jq.trim(e);this._log("Blur triggered"),e!==t&&(this.$element.val(t),this._log("Trimed spaces from input",2)),this.missing=!1,""===t?(this.options.required&&(this._log("Input is empty and required",2),this.missing=!0),this._log("Input is empty and not required",2),this.theme.clearErrors()):(this._log("Input has data so will perform checks",2),this._performChecks(t)),this.missing?this.theme.setMissing():this.theme.unsetMissing()},_performChecks:function(e){this.tester.clearErrors();for(var t=0;t<this.options.checks.length;t++){var i=this.options.checks[t],r=null;"object"==typeof i&&(r=i[i=Object.keys(i)[0]]),this.tester[i](e,r),this._log("Performed check `"+i+"`",2)}this.errors=this.tester.getErrors(),0===this.errors.length?this.theme.clearErrors():this.theme.addErrors(this.errors)},setRequired:function(e){e=e||!1,this._log("Input is now required"),this.options.required=!0,this.theme.markRequired(),e&&(this._log("Checking input after making it required",2),this._blur.apply(this))},unsetRequired:function(){this._log("Input is now not required"),this.options.required=!1,this.theme.unmarkRequired(),this.theme.unsetMissing()},enableLive:function(e){e=e||!1,this._log("Live checking is now enabled"),this.liveEnabled=!0,this.$element.on("input.LiveValidator",function(){var e=this.$element.val();""!==e?(this._log("Value not empty so will perform checks",2),this._performChecks(this.$element.val())):(this._log("Value is empty so am removing errors",2),this.theme.clearErrors())}.bind(this)),e&&(this._log("Performing checks after enabling live checking",2),this._performChecks(this.$element.val()))},disableLive:function(){this._log("Live checking is now disabled"),this.liveEnabled=!1,this.$element.off("input.LiveValidator")},addChecks:function(e){this._log("Will now try to add checks: "+e);var t=this.options.checks.concat(e);this.options.checks=this._filterChecks(t)},removeAllChecks:function(){this._log("All check are now removed"),this.options.checks=[]},removeChecks:function(e){return this._log("Will now try to remove checks: "+e),Array.isArray(e)?void(this.options.checks=this.options.checks.filter(function(t){return e.indexOf(t)===-1})):void this._log("removeChecks can not handle a non-array element",3)},isValid:function(){return this._log("Checking if input is valid"),this._blur(),0===this.errors.length&&!this.missing},destroy:function(){this._log("Destroying plugin instance and reseting the input's state"),this.$element.off(".LiveValidator"),this.theme.clearErrors(),this.theme.unsetMissing()},_log:function(e,t){"undefined"==typeof t&&(t=1),t<=this.options.debug&&console.log(this.logLevels[--t]+": "+e)}};var LiveValidator=LiveValidator||{};LiveValidator.AutoChecks=function(e){return this instanceof LiveValidator.AutoChecks?(this.element=e,this.checks=[],void(this.types={numerics:["number","range"],text:["email","password","search","tel","text","url"]})):new LiveValidator.AutoChecks($,e)},LiveValidator.AutoChecks.prototype={getChecks:function(){var e=this.element.type;return this.types.numerics.indexOf(e)!==-1&&this._filterNumeric(),this.types.text.indexOf(e)!==-1&&this._filterText(),this.checks},_filterNumeric:function(){this._addCheck("min"),this._addCheck("max")},_filterText:function(){if(this._addCheck("minlength"),this._addCheck("maxlength"),this.element.hasAttribute("pattern")){var e={};e.regex=this.element.getAttribute("pattern"),e.title=this.element.getAttribute("title"),this.checks.push({pattern:e})}},_addCheck:function(e){if(this.element.hasAttribute(e)){var t={};t[e]=parseInt(this.element.getAttribute(e)),this.checks.push(t)}}};var LiveValidator=LiveValidator||{};LiveValidator.Tester=function(){return this instanceof LiveValidator.Tester?void(this.errors=[]):new LiveValidator.Tester},LiveValidator.Tester.prototype.clearErrors=function(){this.errors=[]},LiveValidator.Tester.prototype.addError=function(e){this.errors.push(e)},LiveValidator.Tester.prototype.getErrors=function(){return this.errors},LiveValidator.Tester.prototype.min=function(e,t){return!!this.isNumber(e)&&(!(e<t)||(this.addError("Should be more than or equal %d".replace("%d",t)),!1))},LiveValidator.Tester.prototype.max=function(e,t){return!!this.isNumber(e)&&(!(e>t)||(this.addError("Should be less than or equal %d".replace("%d",t)),!1))},LiveValidator.Tester.prototype.minlength=function(e,t){return!(e.length<t)||(this.addError("Should be %d characters or more".replace("%d",t)),!1)},LiveValidator.Tester.prototype.maxlength=function(e,t){return!(e.length>t)||(this.addError("Should be %d characters or less".replace("%d",t)),!1)},LiveValidator.Tester.prototype.pattern=function(e,t){var i=new RegExp(t.regex);return!!i.test(e)||(this.addError(t.title),!1)},LiveValidator.Tester.prototype.isNumber=function(e){return!isNaN(Number(e))||(this.addError("Value should be a number"),!1)};